# ==============================
# ‚õ≥ Nome da Aplica√ß√£o
# ==============================
spring.application.name=api

# ==============================
# üö™ Porta do Servidor
# ==============================
server.port=${PORT:8080}

# ==============================
# üå± Spring Profile
# ==============================
spring.profiles.active=dev

# ==============================
# üìä Datasource (PostgreSQL via Railway)
# ==============================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP Settings
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10

# ==============================
# üß¨ JPA & Hibernate
# ==============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# Debug SQL Bindings
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ==============================
# üìÅ Inicializa√ß√£o de Schema (Quartz)
# ==============================
spring.datasource.initialization-mode=always
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql

# -------------------------
# ‚è∞ QUARTZ CONFIG
# -------------------------
# Configura√ß√£o do Quartz
spring.quartz.job-store-type=jdbc
spring.quartz.jdbc.initialize-schema=always
spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate
spring.quartz.properties.org.quartz.jobStore.isClustered=true
spring.quartz.properties.org.quartz.threadPool.threadCount=5


# Quartz Logging
logging.level.org.quartz=DEBUG

# ==============================
# üì§ Upload de Arquivos
# ==============================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=500MB
spring.servlet.multipart.max-request-size=500MB

# ==============================
# üì¨ SMTP (via Gmail)
# ==============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SMTP_USER}
spring.mail.password=${SMTP_PASS}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
email.user=${SMTP_USER}

# ==============================
# ‚òÅÔ∏è Cloudinary (Imagens)
# ==============================
cloudinary.cloud_name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api_key=${CLOUDINARY_API_KEY}
cloudinary.api_secret=${CLOUDINARY_API_SECRET}

# ==============================
# üìà Actuator
# ==============================
management.endpoints.web.exposure.include=health,info

# ==============================
# üß≠ MVC e Jetty (opcional)
# ==============================
spring.mvc.dispatch-options-request=true
server.jetty.acceptors=4
server.jetty.selectors=8
server.jetty.max-http-form-post-size=2MB

# ==============================
# üß¨ Swagger/OpenAPI
# ==============================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

